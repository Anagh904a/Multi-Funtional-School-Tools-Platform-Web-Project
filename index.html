<!DOCTYPE html>
<html lang="en">
<head>
<!-- Other head elements... -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Reset default margin and padding */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    /* Layout styles */
    body {
        display: flex;
        margin: 0;
        height: 100vh;
        overflow: hidden;
        font-family: Arial, sans-serif;
    }

    .main-content {
  overflow: auto; /* Ensure content is scrollable */
  padding: 20px; /* Adjust as necessary */
}

@media (max-width: 768px) {
  .feature-section {
    padding: 10px; /* Reduce padding for mobile */
  }
}


    /* Sidebar styles */
    #sidebar {
        width: 250px;
        background-color: #2c3e50; /* Sidebar background color */
        color: #ecf0f1; /* Sidebar text color */
        height: 100vh;
        padding: 20px;
        box-sizing: border-box;
        display: none
        
    }

    .sidebar-item {
        display: flex;
        align-items: center;
        padding: 10px;
        color: #ecf0f1;
        text-decoration: none;
        font-size: 16px;
    }

    .sidebar-item i {
        margin-right: 10px; /* Space between icon and text */
    }

    .sidebar-item:hover {
        background-color: #34495e; /* Change background on hover */
        cursor: pointer;
    }
    
    /* Sidebar styles */
        
       
    .sidebar-h2 {
      text-align: left;
      margin-bottom: 20px;
    }

    .sidebar-a {
      color: white;
      padding: 15px 20px;
      text-decoration: none;
      margin-bottom: 5px;
      transition: background 0.3s;
    }

    .sidebar a:hover {
      background-color: #0056b3;
    }

    .logout-btn {
      background-color: #dc3545;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin: 20px;
      width: calc(100% - 40px);
    }
    
    .sidebar-item {
            display: flex;
            align-items: left;
            padding: 10px;
            color: #ecf0f1;
            text-decoration: none;
        }

        .sidebar-item i {
            margin-right:  10px; /* Space between icon and text */
        }

        .sidebar-item:hover {
            background-color: #34495e; /* Change background on hover */
        }

        h2 {
            margin-top: 0;
        }
        .about-info {
            margin: 15px 0;
            padding: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            background-color: #ffffff;
        }
    </style>
</head>
<body>
  <script>
    function showSection(sectionId) {
            
      // Select all sections with the class 'feature-section'
    const sections = document.querySelectorAll('.feature-section');

// Hide all sections
sections.forEach(section => {
    section.style.display = 'none'; // Set each section to 'none'
});
      
      // Show the selected section
            const selectedSection = document.getElementById(sectionId);
            if (selectedSection) {
                selectedSection.style.display = 'block'; // Show the section
            } else {
                console.error('Section not found:', sectionId);
            }
        }

        window.onload = function() {
            // Optionally show a default section when the page loads
            // showSection('about-website'); // Uncomment to show on load
        };
</script>
<div id="sidebar">
        <a href="#" class="sidebar-item" onclick="showSection('task-manager')">
            <i class="fas fa-tasks"></i> Task Manager
        </a>
        <a href="#" class="sidebar-item" onclick="showSection('worksheet-generator')">
            <i class="fas fa-file-alt"></i> Worksheet Generator
        </a>
        <a href="#" class="sidebar-item" onclick="showSection('quiz-generator')">
            <i class="fas fa-question-circle"></i> Quiz Generator
        </a>
        <a href="#" class="sidebar-item" onclick="showSection('tech-updates')">
            <i class="fas fa-bell"></i> Tech Updates
        </a>
        
        <a href="#" class="sidebar-item" onclick="showSection('my-notes')">
                <i class="fas fa-sticky-note"></i> My Notes
            </a>
        <a href="#" class="sidebar-item" onclick="showSection('themes')">
            <i class="fas fa-paint-brush"></i> Themes

            <a href="#" class="sidebar-item" onclick="showSection('shared-tasks')">
              <i class="fas fa-share-alt"></i> Shared Tasks
          </a>
          <a href="#" class="sidebar-item" onclick="showSection('shared-notes')">
              <i class="fas fa-share-square"></i> Shared Notes
         
              <a href="#" class="sidebar-item" onclick="showSection('about-website')">
                <i class="fas fa-info-circle"></i> About Website
           
          <a href="#" class="sidebar-item" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout   
        </a>
    </div>

    <script type="module">
      // Import the functions you need from the SDKs you need
      
      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
      import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBnxKoEbh-xOHn_ogIHAt68HSTR5EOcSuU",
        authDomain: "listvista-5ce07.firebaseapp.com",
        projectId: "listvista-5ce07",
        storageBucket: "listvista-5ce07.appspot.com",
        messagingSenderId: "516531579392",
        appId: "1:516531579392:web:1737b6343f02fc66ae86e5",
        measurementId: "G-4YEWQF9LE7"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
      const analytics = getAnalytics(app);
      const db = getFirestore(app);

      // Authentication Functions
const authContainer = document.getElementById('auth-container');
const authForm = document.getElementById('auth-form');
const authTitle = document.getElementById('auth-title');
const authButton = document.getElementById('auth-button');
const toggleLink = document.getElementById('toggle-link');
let isLogin = true; // Track whether the user is logging in or registering

toggleLink.addEventListener('click', () => {
    isLogin = !isLogin;
    if (isLogin) {
        authTitle.textContent = 'Login';
        authButton.textContent = 'Login';
        toggleLink.textContent = "Don't have an account? Register here.";
    } else {
        authTitle.textContent = 'Register';
        authButton.textContent = 'Register';
        toggleLink.textContent = "Already have an account? Login here.";
    }
});

authForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value.trim();

    if (isLogin) {
        // Login Process
        signInWithEmailAndPassword(auth, email, password)
    .then((userCredential) => {
        const user = userCredential.user;
        console.log('User logged in:', user);
        console.log('Showing app...');
        showApp(); // Function to show the main app after login
        console.log('App shown');
        
    })

    .catch((error) => {
                const errorMessage = error.message;
                alert('Login Failed: ' + errorMessage);
            });
    } else {
        // Registration Process
        createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                const user = userCredential.user;
                console.log('User registered:', user);
                alert('Registration successful! You can now log in.');
                isLogin = true; // Switch to login mode
                authTitle.textContent = 'Login';
                authButton.textContent = 'Login';
                toggleLink.textContent = "Don't have an account? Register here.";
            })
            .catch((error) => {
                const errorMessage = error.message;
                alert('Registration failed: ' + errorMessage);
            });
    }
});

// Show App After Login
function showApp() {
    authContainer.style.display = 'none'; // Hide auth container
    document.getElementById('sidebar').style.display = 'block'; // Show sidebar
    document.getElementById('main-content').style.display = 'block'; // Show main content
    document.getElementById(authContainer).style.display = 'hide';
    updateAuthOption(); // Update the sidebar with the correct option

}
    

// Logout Function
function logout() {
    signOut(auth).then(() => {
        alert('Logged out successfully');
        location.reload(); // Reload the page to show the login form again
    }).catch((error) => {
        const errorMessage = error.message;
        alert('Logout failed: ' + errorMessage);
    });
}

// Function to add a task to shared tasks
function addTask(taskName) {
            const userId = firebase.auth().currentUser ? firebase.auth().currentUser.uid : 'Anonymous'; 
            const userName = firebase.auth().currentUser ? firebase.auth().currentUser.displayName : 'Anonymous';

            db.collection('sharedTasks').add({
                taskName: taskName,
                addedBy: userName,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => {
                console.log('Task added successfully');
                displayTasks();
            })
            .catch(error => {
                console.error('Error adding task: ', error);
            });
        }

        // Function to display tasks
        function displayTasks() {
            const tasksContainer = document.getElementById('tasks-container');
            tasksContainer.innerHTML = ''; // Clear previous tasks

            db.collection('sharedTasks').orderBy('timestamp', 'desc').get().then(querySnapshot => {
                querySnapshot.forEach(doc => {
                    const task = doc.data();
                    const taskElement = document.createElement('div');
                    taskElement.textContent = `${task.taskName} was added by ${task.addedBy}`;
                    tasksContainer.appendChild(taskElement);
                });
            })
            .catch(error => {
                console.error('Error fetching tasks: ', error);
            });
        }

        // Call this function when the button is clicked
document.getElementById('add-shared-task-button').addEventListener('click', addSharedTask); 
        
        // Optionally call displayTasks on page load
        window.onload = function() {
            displayTasks();
        };
   </script>
</body>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>School Tools Platform</title>
  <style>
    /* General Styles */
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9fafb;
    }

    /* Hide all sections by default */
    .feature-section {
      display: none;
      padding: 20px;
    }

    /* Login/Register Styles */
    .auth-container {
      max-width: 400px;
      margin: 100px auto;
      padding: 30px;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .auth-container h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .auth-container form {
      display: flex;
      flex-direction: column;
    }

    .auth-container form input {
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .auth-container form button {
      padding: 10px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .auth-container form button:hover {
      background-color: #0056b3;
    }

    .toggle-link {
      text-align: center;
      margin-top: 10px;
      color: #007BFF;
      cursor: pointer;
    }

    .toggle-link:hover {
      text-decoration: underline;
    }

    /* Sidebar Styles */
     
        #sidebar {
            width: 250px;
            background-color: #2c3e50; /* Example background color */
            color: #ecf0f1; /* Example text color */
            height: 100vh;
            padding: 20px;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 10px;
            color: #ecf0f1;
            text-decoration: none;
        }

        .sidebar-item i {
            margin-right: 10px; /* Space between icon and text */
        }

        .sidebar-item:hover {
            background-color: #34495e; /* Change background on hover */
        }

.sidebar {
      width: 250px;
      background-color: #007BFF;
      color: white;
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      padding-top: 20px;
      display: none; /* Hidden by default, shown after login */
    }

    .sidebar h2 {
      text-align: center;
      margin-bottom: 30px;
    }

    .sidebar a {
      display: block;
      color: white;
      padding: 15px 20px;
      text-decoration: none;
      margin-bottom: 5px;
      transition: background 0.3s;
    }

    .sidebar a:hover {
      background-color: #0056b3;
    }

    .logout-btn {
      background-color: #dc3545;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin: 20px;
      width: calc(100% - 40px);
    }

    .logout-btn:hover {
      background-color: #c82333;
    }

    /* Main Content Styles */
    .main-content {
      margin-left: 250px;
      padding: 40px;
      flex-grow: 1;
      display: none; /* Hidden by default, shown after login */
    }

    /* Task Manager Styles */
    .task-manager {
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .task-form {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .task-form input, .task-form select {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      margin-right: 10px;
      flex: 1 1 200px;
      margin-bottom: 10px;
    }

    .task-form button {
      padding: 10px 20px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      flex: 1 1 100px;
    }

    .task-form button:hover {
      background-color: #218838;
    }

    .task-list {
      list-style: none;
      padding: 0;
    }

    .task-item {
      background-color: #f9f9f9;
      padding: 15px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .task-item.completed {
      text-decoration: line-through;
      background-color: #d4edda;
    }

    .task-item button {
      padding: 5px 10px;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      margin-left: 5px;
      margin-top: 5px;
    }

    .complete-btn {
      background-color: #007bff;
      color: white;
    }

    .delete-btn {
      background-color: #dc3545;
      color: white;
    }

    .filter-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .filter-bar select {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      flex: 1 1 200px;
      margin-bottom: 10px;
    }

    /* Worksheet, Quiz Generator, and Tech Updates Styles */
    .feature-section {
      display: none;
      margin-top: 50px;
    }

    .feature-section form {
      display: flex;
      flex-direction: column;
    }

    .feature-section form label {
      margin: 10px 0 5px;
    }

    .feature-section form input, .feature-section form select, .feature-section form button {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      margin-bottom: 15px;
    }

    .feature-section form button {
      background-color: #007BFF;
      color: white;
      cursor: pointer;
    }

    .feature-section form button:hover {
      background-color: #0056b3;
    }

    /* Quiz Styles */
    .quiz-question {
      margin-bottom: 20px;
    }

    .quiz-options label {
      display: block;
      margin-bottom: 10px;
      cursor: pointer;
    }

    .quiz-submit {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
    }

    .quiz-submit:hover {
      background-color: #218838;
    }

    /* Generated Content Styles */
    #generatedWorksheet, #quizArea, #updateMessage {
      margin-top: 20px;
      padding: 20px;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
      }
      .main-content {
        margin-left: 0;
      }

      

/* Add hover effect for the button */
.tech-update-btn:hover {
    background-color: darkblue; /* Darker shade of blue on hover */
        }

    
  </style>
</head>
<body>

  <!-- Authentication Container -->
  <div id="auth-container" class="auth-container">
    <h2 id="auth-title">Login</h2>
    <form id="auth-form">
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit" id="auth-button">Login</button>
    </form>
    <div class="toggle-link" id="toggle-link">Don't have an account? Register here.</div>
</div>
  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <h2>Dashboard</h2>
    <a href="#" onclick="showSection('task-manager')">Task Manager</a>
    <a href="#" onclick="showSection('worksheet-generator')">Worksheet Generator</a>
    <a href="#" onclick="showSection('quiz-generator')">Quiz Generator</a>
    <a href="#" onclick="showSection('tech-updates')">Tech Updates</a>
    <a href="#" onclick="showSection('themes')">Themes</a>
    <a href="#" onclick="showSection('my-notes')">My notes</a>
    <a href="#" onclick="showSection('shared-tasks')">Shared Tasks</a>
    <a href="#" onclick="showSection('shared-notes')">Shared Notes</a>
    <a href="#" onclick="showSection('about-website')">About Website</a>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>

  <!-- Main Content -->
  <div class="main-content" id="main-content">

    <!-- Task Manager Feature -->
    <div id="task-manager" class="feature-section">
      <h2>Task Manager</h2>
      <div class="task-manager">
        <h3>Manage Your Tasks</h3>
        <!-- Task Form -->
        <div class="task-form">
          <input type="text" id="taskName" placeholder="Task Name" required>
          <input type="text" id="taskDesc" placeholder="Task Description">
          <select id="taskPriority">
            <option value="low">Low Priority</option>
            <option value="medium">Medium Priority</option>
            <option value="high">High Priority</option>
          </select>
          <button onclick="addTask()">Add Task</button>
        </div>

        <!-- Filter Bar -->
        <div class="filter-bar">
          <select id="filterStatus" onchange="filterTasks()">
            <option value="all">All Tasks</option>
            <option value="completed">Completed Tasks</option>
            <option value="incomplete">Incomplete Tasks</option>
          </select>
          <select id="filterPriority" onchange="filterTasks()">
            <option value="all">All Priorities</option>
            <option value="low">Low Priority</option>
            <option value="medium">Medium Priority</option>
            <option value="high">High Priority</option>
          </select>
        </div>

        <!-- Task List -->
        <ul id="taskList" class="task-list">
          <!-- Task Items will appear here -->
        </ul>
      </div>
    </div>

    <!-- Worksheet Generator Section -->
    <div id="worksheet-generator" class="feature-section">
      <h2>Worksheet Generator</h2>
      <p>Select your preferences and generate a worksheet with random questions:</p>
      
      <form id="worksheetForm">
        <label for="subject">Choose Subject:</label>
        <select id="subject" name="subject" required>
          <option value="math">Math</option>
          <option value="science">Science</option>
        </select>
        
        <label for="numQuestions">Number of Questions:</label>
        <input type="number" id="numQuestions" name="numQuestions" min="5" max="50" required>
        
        <label for="difficulty">Difficulty Level:</label>
        <select id="difficulty" name="difficulty" required>
          <option value="easy">Easy</option>
          <option value="medium">Medium</option>
          <option value="hard">Hard</option>
        </select>

        <label for="questionType">Question Type:</label>
        <select id="questionType" name="questionType" required>
          <option value="mcq">Multiple Choice</option>
          <option value="shortAnswer">Short Answer</option>
          <option value="longAnswer">Long Answer</option>
        </select>
        
        <button type="button" onclick="generateWorksheet()">Generate Worksheet</button>
      </form>

      <div id="generatedWorksheet"></div>
    </div>

    <!-- Quiz Generator Section -->
    <div id="quiz-generator" class="feature-section">
      <h2>Quiz Generator</h2>
      <p>Select your preferences and take a quiz:</p>
      
      <form id="quizForm">
        <label for="quizSubject">Choose Subject:</label>
        <select id="quizSubject" name="quizSubject" required>
          <option value="math">Math</option>
          <option value="science">Science</option>
        </select>
        
        <label for="quizNumQuestions">Number of Questions:</label>
        <input type="number" id="quizNumQuestions" name="quizNumQuestions" min="5" max="20" required>

        <button type="button" onclick="startQuiz()">Start Quiz</button>
      </form>

      <div id="quizArea"></div>
    </div>
  
    <!-- About Website Section -->
    <div id="about-website" class="feature-section">
      <h2>About This Website</h2>
    <div class="about-info">
        <strong>Developer:</strong> Anagh Manglick
    </div>
    <div class="about-info">
        <strong>Class:</strong> 7th
    </div>
    <div class="about-info">
        <strong>Website Server:</strong> YES
    </div>
    <div class="about-info">
        <strong>Version:</strong> V2.8 (ALPHA TESTING)
    </div>
</div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const aboutLink = document.getElementById('about-link');
            const aboutSection = document.getElementById('about-section');

            aboutLink.onclick = function(event) {
                event.preventDefault(); // Prevent the default link behavior

                // Toggle visibility of the about section
                if (aboutSection.style.display === 'none' || aboutSection.style.display === '') {
                    aboutSection.style.display = 'block'; // Show the section
                } else {
                    aboutSection.style.display = 'none'; // Hide the section
                }
            };
        });
    </script>

    <!-- Tech Updates Section -->
    <div id="tech-updates" class="feature-section">
      <h2>Tech Updates</h2>
      <button onclick= showTechUpdates();style-color; #007BFF; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px;">
    Check for Updates
</button>
      <div id="updateMessage"></div>
    </div>

      <!-- My Notes Section --> 
      <div id="my-notes" class="feature-section">
    <h2>My Notes</h2>
    <input type="text" id="noteName" placeholder="Note Title" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: calc(100% - 22px); margin-bottom: 10px;">
    <textarea id="noteContent" placeholder="Write your note here..." style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: calc(100% - 22px); height: 100px;"></textarea>
    <button onclick="addNote()" style="padding: 10px 20px; background-color: #007BFF; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px;">Save Note</button>
    <ul id="notesList" style="margin-top: 20px; list-style-type: none;"></ul>
</div>

  <!-- Themes Section -->
<div id="themes" class="feature-section">
    <h2>Themes</h2>
    <button onclick="showThemeDialog()" style="padding: 10px 20px; background-color: #007BFF; color: white; border: none; border-radius: 4px; cursor: pointer;">Choose Theme</button>
</div>


<div id="themeDialog" style="display: none;">
    <p>There are some bugs in these theme options, and they will be fixed in the next V3 update.</p>
    <button onclick="closeThemeDialog()" style="padding: 10px 20px; background-color: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">Close</button>
  </div>
   
  <!-- Shared Tasks Section -->
<div id="shared-tasks" class="feature-section">
    <h2>Shared Tasks</h2>
    <div class="task-manager">
        <h3>Manage Your Shared Tasks</h3>
        <!-- Task Form -->
        <div class="task-form">
            <input type="text" id="sharedTaskName" placeholder="Task Name" required>
            <input type="text" id="sharedTaskDesc" placeholder="Task Description">
            <select id="sharedTaskPriority">
                <option value="low">Low Priority</option>
                <option value="medium">Medium Priority</option>
                <option value="high">High Priority</option>
            </select>
            <button id="add-shared-task-button">Add Shared Task</button>

        <!-- Shared Task List -->
        <ul id="sharedTaskList" class="task-list">
            <!-- Shared Task Items will appear here -->
        </ul>
    </div>
</div>

<!-- Shared Notes Section -->
<div id="shared-notes" class="feature-section">
    <h2>Shared Notes</h2>
    <input type="text" id="sharedNoteName" placeholder="Note Title" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: calc(100% - 22px); margin-bottom: 10px;">
    <textarea id="sharedNoteContent" placeholder="Write your note here..." style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: calc(100% - 22px); height: 100px;"></textarea>
    <button onclick="addSharedNote()" style="padding: 10px 20px; background-color: #007BFF; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px;">Save Shared Note</button>
    <ul id="sharedNotesList" style="margin-top: 20px; list-style-type: none;"></ul>
</div>
  
  <script>
  
    // Notes Functionality
let notes = [];

// Load notes from localStorage
function loadNotes() {
    const loggedInUser  = JSON.parse(localStorage.getItem('loggedInUser '));
    if (loggedInUser ) {
        notes = JSON.parse(localStorage.getItem(`${loggedInUser .username}_notes`)) || [];
    }
}

// Save notes to localStorage
function saveNotes() {
  function saveNotes() {
    localStorage.setItem('notes', JSON.stringify(notes));
}
    }


// Add Note
function addNote() {
    const noteName = document.getElementById('noteName').value.trim();
    const noteContent = document.getElementById('noteContent').value.trim();

    if (noteName && noteContent) {
        const note = { name: noteName, content: noteContent };
        notes.push(note);
        saveNotes();
        renderNotes();
        document.getElementById('noteName').value = '';
        document.getElementById('noteContent').value = '';
    } else {
        alert('Both fields are required.');
    }
}

// Render Notes
function renderNotes() {
    const notesList = document.getElementById('notesList');
    notesList.innerHTML = '';

    notes.forEach(note => {
        const noteItem = document.createElement('li');
        noteItem.innerHTML = `<strong>${sanitize(note.name)}</strong>: ${sanitize(note.content)}`;
        notesList.appendChild(noteItem);
    });
}

// Show Notes on Load
function initNotes() {
    loadNotes();
    renderNotes();
}

// Initialize notes on page load
window.onload = initNotes;

   // Show Theme Dialog
function showThemeDialog() {
  document.getElementById('themeDialog').style.display = 'block';
}

// Close Theme Dialog
function closeThemeDialog() {
  document.getElementById('themeDialog').style.display = 'none';
}
 
//Shared Tasks Section Visiblity
function showSection(sectionId) {
    const sections = document.querySelectorAll('.feature-section');
    sections.forEach(section => section.style.display = 'none'); // Hide all sections
    document.getElementById(sectionId).style.display = 'block'; // Show the selected section

// Check if User is Already Logged In
window.onload = function() {
    const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
    if (loggedInUser) {
        
    } else {
        document.getElementById('auth-container').style.display = 'block'; // Show auth container
        document.getElementById('sidebar').style.display = 'none'; // Hide sidebar
        document.getElementById('main-content').style.display = 'none'; // Hide main content
    }
};

// Function to add a shared note
async function addSharedNote() {
    const noteTitle = document.getElementById('sharedNoteName').value.trim();
    const noteContent = document.getElementById('sharedNoteContent').value.trim();
    const sharedWith = ['user1', 'user3']; // Replace with actual user IDs

    if (noteTitle && noteContent) {
        try {
            const docRef = await addDoc(collection(db, 'sharedNotes'), {
                title: noteTitle,
                content: noteContent,
                sharedWith: sharedWith
            });
            console.log("Shared Note added with ID: ", docRef.id);
            fetchSharedNotes(); // Refresh the list
        } catch (error) {
            console.error("Error adding shared note: ", error);
        }
    } else {
        alert('Both title and content are required.');
    }
}

// Function to fetch and display shared notes
    function fetchSharedNotes() {
    const querySnapshot = await getDocs(collection(db, 'sharedNotes'));
    const notesList = document.getElementById('sharedNotesList');
    notesList.innerHTML = ''; // Clear the list

    querySnapshot.forEach((doc) => {
        const note = doc.data();
        const li = document.createElement('li');
        li.textContent = `${note.title}: ${note.content}`;
        notesList.appendChild(li);
    });
}

// Call fetchSharedNotes on page load or when the shared notes section is shown
window.onload = function() {
    fetchSharedNotes(); // Load notes when the page loads
};


    
    }

    function showFutureFeature() {
      alert("This feature will be implemented in future updates.");
    }

    // =======================
    // Task Manager Functions
    // =======================
    let tasks = [];

    // Load tasks from localStorage
    function loadTasks() {
      const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
      if (loggedInUser) {
        const userTasks = JSON.parse(localStorage.getItem(`${loggedInUser.username}_tasks`)) || [];
        tasks = userTasks;
      }
    }

    // Save tasks to localStorage
    function saveTasks() {
      const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
      if (loggedInUser) {
        localStorage.setItem(`${loggedInUser.username}_tasks`, JSON.stringify(tasks));
      }
    }

    function addTask() {
      const taskName = document.getElementById('taskName').value.trim();
      const taskDesc = document.getElementById('taskDesc').value.trim();
      const taskPriority = document.getElementById('taskPriority').value;

      if (taskName) {
        const task = {
          name: taskName,
          desc: taskDesc,
          priority: taskPriority,
          completed: false
        };
        tasks.push(task);
        saveTasks();
        renderTasks();
        document.getElementById('taskName').value = '';
        document.getElementById('taskDesc').value = '';
      } else {
        alert('Task name is required.');
      }
    }

    function renderTasks() {
      const taskList = document.getElementById('taskList');
      taskList.innerHTML = '';

      const filterStatus = document.getElementById('filterStatus').value;
      const filterPriority = document.getElementById('filterPriority').value;

      const filteredTasks = tasks.filter(task => {
        const statusMatch = filterStatus === 'all' ||
          (filterStatus === 'completed' && task.completed) ||
          (filterStatus === 'incomplete' && !task.completed);
        const priorityMatch = filterPriority === 'all' || task.priority === filterPriority;
        return statusMatch && priorityMatch;
      });

      filteredTasks.forEach((task, index) => {
        const taskItem = document.createElement('li');
        taskItem.classList.add('task-item');
        if (task.completed) {
          taskItem.classList.add('completed');
        }
        taskItem.innerHTML = `
          <div>
            <strong>${sanitize(task.name)}</strong> - ${sanitize(task.desc)} - <em>${sanitize(task.priority)}</em>
          </div>
          <div>
            <button class="complete-btn" onclick="toggleTaskComplete(${index})">${task.completed ? 'Undo' : 'Complete'}</button>
            <button class="delete-btn" onclick="deleteTask(${index})">Delete</button>
          </div>
        `;
        taskList.appendChild(taskItem);
      });
    }

    function toggleTaskComplete(index) {
      tasks[index].completed = !tasks[index].completed;
      saveTasks();
      renderTasks();
    }

    function deleteTask(index) {
      if (confirm('Are you sure you want to delete this task?')) {
        tasks.splice(index, 1);
        saveTasks();
        renderTasks();
      }
    }

    function filterTasks() {
      renderTasks();
    }

    function sanitize(input) {
      const div = document.createElement('div');
      div.textContent = input;
      return div.innerHTML;
    }

    // Initialize Task Manager
    function initTaskManager() {
      loadTasks();
      renderTasks();
    }

    // ================================
    // Worksheet Generator Functions
    // ================================
    const questionBank = {
      math: {
        easy: [
          "What is 2 + 2?",
          "What is 5 - 3?",
          "What is 3 × 4?",
          "What is 10 ÷ 2?",
          "What is the square of 3?"
        ],
        medium: [
          "Solve for x: 2x + 5 = 13.",
          "What is the area of a triangle with base 5 and height 10?",
          "Simplify: (3²) + (4²).",
          "What is the perimeter of a rectangle with length 8 and width 5?",
          "Find the value of 15% of 200."
        ],
        hard: [
          "Integrate the function f(x) = 3x².",
          "Solve the equation: x³ - 6x² + 11x - 6 = 0.",
          "What is the derivative of sin(x)?",
          "Calculate the limit: lim(x→0) (sin(x)/x).",
          "What is the solution to the differential equation dy/dx = 2x?"
        ]
      },
      science: {
        easy: [
          "What is the chemical symbol for water?",
          "What planet is known as the Red Planet?",
          "What gas do plants absorb from the atmosphere?",
          "What is H₂O commonly known as?",
          "What force keeps us grounded on Earth?"
        ],
        medium: [
          "What is the powerhouse of the cell?",
          "What is the chemical formula for table salt?",
          "Define Newton's Second Law of Motion.",
          "What is the process by which plants make their food?",
          "Name the three states of matter."
        ],
        hard: [
          "Explain the theory of relativity.",
          "What is the Heisenberg Uncertainty Principle?",
          "Describe the process of nuclear fusion.",
          "What is the significance of the Pauli Exclusion Principle?",
          "Define Schrödinger's Cat paradox."
        ]
      }
    };

    function generateWorksheet() {
      const subject = document.getElementById('subject').value;
      const numQuestions = parseInt(document.getElementById('numQuestions').value);
      const difficulty = document.getElementById('difficulty').value;
      const questionType = document.getElementById('questionType').value;

      const availableQuestions = questionBank[subject][difficulty];
      if (!availableQuestions) {
        alert('No questions available for the selected options.');
        return;
      }

      if (numQuestions > availableQuestions.length) {
        alert(`Only ${availableQuestions.length} questions available for ${subject} (${difficulty} difficulty).`);
        return;
      }

      const selectedQuestions = shuffleArray(availableQuestions).slice(0, numQuestions);
      let worksheetContent = `<h3>Generated Worksheet for ${capitalize(subject)}</h3><ol>`;
      
      selectedQuestions.forEach((q, index) => {
        worksheetContent += `<li>${q}</li>`;
      });
      worksheetContent += `</ol>`;

      document.getElementById('generatedWorksheet').innerHTML = worksheetContent;
    }

    // Utility function to shuffle an array
    function shuffleArray(array) {
      let currentIndex = array.length, temporaryValue, randomIndex;

      // While there remain elements to shuffle...
      while (0 !== currentIndex) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }

      return array;
    }

    // Capitalize first letter
    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    // ==========================
    // Quiz Generator Functions
    // ==========================
    let currentQuiz = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let userAnswers = [];

    // Define correct answers for each question
    const correctAnswers = {
      math: {
        easy: {
          "What is 2 + 2?": "4",
          "What is 5 - 3?": "2",
          "What is 3 × 4?": "12",
          "What is 10 ÷ 2?": "5",
          "What is the square of 3?": "9"
        },
        medium: {
          "Solve for x: 2x + 5 = 13.": "4",
          "What is the area of a triangle with base 5 and height 10?": "25",
          "Simplify: (3²) + (4²).": "25",
          "What is the perimeter of a rectangle with length 8 and width 5?": "26",
          "Find the value of 15% of 200.": "30"
        },
        hard: {
          "Integrate the function f(x) = 3x².": "x³ + C",
          "Solve the equation: x³ - 6x² + 11x - 6 = 0.": "1, 2, 3",
          "What is the derivative of sin(x)?": "cos(x)",
          "Calculate the limit: lim(x→0) (sin(x)/x).": "1",
          "What is the solution to the differential equation dy/dx = 2x?": "y = x² + C"
        }
      },
      science: {
        easy: {
          "What is the chemical symbol for water?": "H₂O",
          "What planet is known as the Red Planet?": "Mars",
          "What gas do plants absorb from the atmosphere?": "Carbon Dioxide",
          "What is H₂O commonly known as?": "Water",
          "What force keeps us grounded on Earth?": "Gravity"
        },
        medium: {
          "What is the powerhouse of the cell?": "Mitochondria",
          "What is the chemical formula for table salt?": "NaCl",
          "Define Newton's Second Law of Motion.": "Force equals mass times acceleration (F=ma)",
          "What is the process by which plants make their food?": "Photosynthesis",
          "Name the three states of matter.": "Solid, Liquid, Gas"
        },
        hard: {
          "Explain the theory of relativity.": "A theory by Einstein that describes the laws of physics in the presence of gravitational fields and high velocities.",
          "What is the Heisenberg Uncertainty Principle?": "It states that the position and momentum of a particle cannot both be precisely determined simultaneously.",
          "Describe the process of nuclear fusion.": "Combining two light atomic nuclei to form a heavier nucleus, releasing energy.",
          "What is the significance of the Pauli Exclusion Principle?": "No two fermions can occupy the same quantum state simultaneously.",
          "Define Schrödinger's Cat paradox.": "A thought experiment that illustrates the concept of superposition in quantum mechanics."
        }
      }
    };

    function startQuiz() {
      const subject = document.getElementById('quizSubject').value;
      const numQuestions = parseInt(document.getElementById('quizNumQuestions').value);

      const difficulty = 'medium'; // Fixed difficulty for quizzes; can be made dynamic if desired
      const availableQuestions = Object.keys(correctAnswers[subject][difficulty]);
      if (!availableQuestions) {
        alert('No questions available for the selected options.');
        return;
      }

      if (numQuestions > availableQuestions.length) {
        alert(`Only ${availableQuestions.length} questions available for ${subject} (medium difficulty).`);
        return;
      }

      currentQuiz = shuffleArray(availableQuestions).slice(0, numQuestions);
      currentQuestionIndex = 0;
      score = 0;
      userAnswers = [];
      document.getElementById('quizArea').innerHTML = '';
      displayQuizQuestion();
    }

    function displayQuizQuestion() {
      if (currentQuestionIndex < currentQuiz.length) {
        const question = currentQuiz[currentQuestionIndex];
        const quizArea = document.getElementById('quizArea');

        // Generate multiple choice options if question type is MCQ
        const isMCQ = question.includes("What") || question.includes("Define") || question.includes("Explain");
        let optionsHTML = '';
        let correctAnswer = correctAnswers[getCurrentQuizSubject()][getCurrentQuizDifficulty()][question];
        let options = [];

        if (isMCQ) {
          // Generate random options
          options = generateMCQOptions(correctAnswer);
          optionsHTML = options.map((opt, idx) => `
            <input type="radio" id="option${idx+1}" name="answer" value="${opt}">
            <label for="option${idx+1}">${opt}</label>
          `).join('');
        } else {
          // Short or long answer
          optionsHTML = `<input type="text" id="answerInput" placeholder="Type your answer here">`;
        }

        quizArea.innerHTML = `
          <div class="quiz-question">
            <strong>Question ${currentQuestionIndex + 1}:</strong> ${sanitize(question)}
          </div>
          <div class="quiz-options">
            ${optionsHTML}
          </div>
          <button class="quiz-submit" onclick="submitQuizAnswer()">Submit Answer</button>
        `;
      } else {
        displayQuizResult();
      }
    }

    function generateMCQOptions(correctAnswer) {
      const dummyOptions = generateDummyOptions(correctAnswer);
      dummyOptions.push(correctAnswer);
      return shuffleArray(dummyOptions).slice(0, 4);
    }

    function generateDummyOptions(correctAnswer) {
      let options = [];
      for (let i = 0; i < 3; i++) {
        let option;
        do {
          option = generateRandomOption(correctAnswer);
        } while (options.includes(option) || option === correctAnswer);
        options.push(option);
      }
      return options;
    }

    function generateRandomOption(correctAnswer) {
      // Simple random option generator; can be improved based on subject and type
      const randomNumber = Math.floor(Math.random() * 100) + 1;
      return randomNumber.toString();
    }

    function submitQuizAnswer() {
      const subject = getCurrentQuizSubject();
      const difficulty = getCurrentQuizDifficulty();
      const question = currentQuiz[currentQuestionIndex];
      const correctAnswer = correctAnswers[subject][difficulty][question];

      let userAnswer = '';
      const selectedOption = document.querySelector('input[name="answer"]:checked');
      if (selectedOption) {
        userAnswer = selectedOption.value.trim();
      } else {
        const textInput = document.getElementById('answerInput');
        if (textInput) {
          userAnswer = textInput.value.trim();
        }
      }

      if (userAnswer === '') {
        alert('Please provide an answer.');
        return;
      }

      userAnswers.push(userAnswer);

      // Normalize answers for comparison
      const normalizedUserAnswer = userAnswer.toLowerCase();
      const normalizedCorrectAnswer = correctAnswer.toLowerCase();

      if (normalizedUserAnswer === normalizedCorrectAnswer) {
        score += 1;
      }

      currentQuestionIndex += 1;
      displayQuizQuestion();
    }

    function displayQuizResult() {
      const quizArea = document.getElementById('quizArea');
      quizArea.innerHTML = `
        <h3>Quiz Completed!</h3>
        <p>Your Score: ${score} out of ${currentQuiz.length}</p>
        <button onclick="reviewQuiz()">Review Answers</button>
      `;
    }

    function reviewQuiz() {
      const quizArea = document.getElementById('quizArea');
      let reviewContent = `<h3>Quiz Review</h3><ol>`;
      for (let i = 0; i < currentQuiz.length; i++) {
        const question = currentQuiz[i];
        const userAnswer = userAnswers[i];
        const correctAnswer = correctAnswers[getCurrentQuizSubject()][getCurrentQuizDifficulty()][question];
        reviewContent += `
          <li>
            <strong>${sanitize(question)}</strong><br>
            Your Answer: ${sanitize(userAnswer)}<br>
            Correct Answer: ${sanitize(correctAnswer)}<br>
            ${userAnswer.toLowerCase() === correctAnswer.toLowerCase() ? '<span style="color:green;">Correct</span>' : '<span style="color:red;">Incorrect</span>'}
          </li>
        `;
      }
      reviewContent += `</ol>`;
      quizArea.innerHTML = reviewContent;
    }

    function getCurrentQuizSubject() {
      return document.getElementById('quizSubject').value;
    }

    function getCurrentQuizDifficulty() {
      return 'medium'; // Fixed difficulty; modify if needed
    }

    // =====================
    // Tech Updates Function
    // =====================
    
    
    const apiKey = '33e82c50c24146f39825dee2a1b84eaa'; // Replace with your actual API key

const builtInTechUpdates = [
    {
        title: "Advancements in Artificial Intelligence",
        description: "Artificial Intelligence (AI) continues to evolve, with breakthroughs in natural language processing and machine learning. AI is now being used in various sectors, including healthcare, finance, and education, to improve efficiency and decision-making."
    },
    {
        title: "5G Technology Rollout",
        description: "The rollout of 5G technology is revolutionizing mobile communications, offering faster speeds and more reliable connections. This advancement is expected to enable new applications in IoT, autonomous vehicles, and smart cities."
    },
    {
        title: "Quantum Computing Progress",
        description: "Researchers are making significant strides in quantum computing, which has the potential to solve complex problems much faster than traditional computers. Companies are investing heavily in this technology to harness its capabilities for various applications."
    },
    {
        title: "Cybersecurity Innovations",
        description: "As cyber threats become more sophisticated, innovations in cybersecurity are crucial. New technologies such as AI-driven security systems and zero-trust architectures are being developed to protect sensitive data and systems."
    },
    {
        title: "Blockchain Beyond Cryptocurrency",
        description: "Blockchain technology is finding applications beyond cryptocurrency. Industries like supply chain management, healthcare, and finance are leveraging blockchain for transparency, traceability, and secure transactions."
    },
    {
        title: "Augmented Reality (AR) and Virtual Reality (VR)",
        description: "AR and VR technologies are transforming entertainment, education, and training. These immersive experiences are being used for everything from gaming to virtual classrooms, enhancing user engagement and learning outcomes."
    },
    {
        title: "Sustainable Tech Innovations",
        description: "Sustainability is at the forefront of technology development. Innovations in renewable energy, electric vehicles, and sustainable materials are helping to combat climate change and promote environmental responsibility."
    },
    {
        title: "Advances in Robotics",
        description: "Robotics technology is advancing rapidly, with robots being used in manufacturing, healthcare, and even households. These robots are becoming more autonomous and capable of performing complex tasks."
    },
    {
        title: "Internet of Things (IoT) Expansion",
        description: "The Internet of Things (IoT) continues to expand, connecting everyday devices to the internet. This connectivity allows for smarter homes, cities, and industries, improving efficiency and convenience."
    },
    {
        title: "Edge Computing Growth",
        description: "Edge computing is gaining traction as businesses seek to process data closer to where it is generated. This reduces latency and bandwidth usage, making it ideal for applications like autonomous vehicles and smart devices."
    },
    {
        title: "Biotechnology Breakthroughs",
        description: "Recent breakthroughs in biotechnology are paving the way for advancements in healthcare, including personalized medicine and gene editing technologies like CRISPR, which can potentially cure genetic diseases."
    },
    {
        title: "Wearable Technology Trends",
        description: "Wearable technology is becoming increasingly popular, with devices that monitor health metrics and enhance fitness tracking. These devices are providing users with valuable insights into their health and wellness."
    },
    {
        title: "Remote Work Technology",
        description: "The shift to remote work has accelerated the development of technologies that facilitate collaboration and communication. Tools like video conferencing, project management software, and virtual collaboration platforms are now essential."
    },
    {
        title: "Smart Home Technologies",
        description: "Smart home technologies are on the rise, allowing homeowners to control lighting, security, and appliances through their smartphones. This trend is enhancing convenience and energy efficiency."
    },
    {
        title: "3D Printing Advancements",
        description: "3D printing technology is evolving, enabling the production of complex designs and prototypes quickly and cost-effectively. This technology is being adopted in various fields, including manufacturing, healthcare, and construction."
    },
    {
        title: "Data Privacy Technologies",
        description: "As data privacy concerns grow, new technologies are emerging to protect user data. Solutions such as encryption, secure access controls, and privacy-focused applications are becoming increasingly important."
    },
    {
        title: "Digital Payment Innovations",
        description: "Digital payment technologies are transforming the way we conduct transactions. Contactless payments, mobile wallets, and blockchain-based payment systems are making transactions faster and more secure."
    },
    {
        title: "Smart Agriculture Technologies",
        description: "Smart agriculture technologies are revolutionizing farming practices. Innovations such as precision farming, drones, and IoT sensors are enhancing crop yields and resource management."
    },
    {
        title: "Tele medicine Advancements",
        description: "Telemedicine is becoming increasingly popular, allowing patients to consult with healthcare professionals remotely. This technology is improving access to healthcare services, especially in rural areas."
    },
    {
        title: "Autonomous Vehicle Developments",
        description: "Autonomous vehicle technology is advancing rapidly, with companies investing heavily in self-driving cars and trucks. This technology has the potential to transform the transportation industry."
    },
    {
        title: "Environmental Monitoring Technologies",
        description: "Environmental monitoring technologies are helping us better understand and mitigate the impact of human activities on the environment. These technologies include air and water quality monitoring, climate modeling, and sustainable resource management."
    }
];

const fetchTechnologyNews = () => {
    const url = `https://newsapi.org/v2/everything?q=technology&apiKey=$33e82c50c24146f39825dee2a1b84eaa,`;

    fetch(url)
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok: ' + response.statusText);
            }
            return response.json();
        })
        .then(data => {
            if (data.articles.length > 0) {
                displayArticles(data.articles);
            } else {
                showTechUpdates();
            }
        })
        .catch(error => {
            console.error("Error fetching technology news: ", error);
            showTechUpdates();
        });
};

const displayArticles = (articles) => {
    const articlesContainer = document.getElementById('articlesContainer');
    articlesContainer.innerHTML = ''; // Clear previous articles

    articles.forEach(article => {
        const articleElement = document.createElement('div');
        articleElement.innerHTML = `<h3>${article.title}</h3>
                                    <p>${article.description}</p>`;
        articlesContainer.appendChild(articleElement);
    });
};

const showTechUpdates = () => {
    const techUpdatesContainer = document.getElementById('techUpdatesContainer');
    techUpdatesContainer.innerHTML = ''; // Clear previous updates

    builtInTechUpdates.forEach(update => {
        const updateElement = document.createElement('div');
        updateElement.innerHTML = `<h3>${update.title}</h3>
                                    <p>${update.description}</p>`;
        techUpdatesContainer.appendChild(updateElement);
    });
};

// addEventListener

document.getElementById('checkForUpdatesButton'),addEventListener(fetchTechnologyNews);
    // =====================
    // Initialization
    // =====================
    window.onload = function() {
      const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
      if (loggedInUser) {
        showApp();
        initTaskManager();
      }
    }
  </script>
</body>
</html>
